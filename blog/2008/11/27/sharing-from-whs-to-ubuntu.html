<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="TODO">

    <title>kejadlen.dev</title>

    <style type="text/css">
      /* http://bettermotherfuckingwebsite.com/ */
      body {
        margin: 40px auto;
        max-width: 650px;
        line-height: 1.6;
        font-size: 18px;
        color: #444;
        padding: 0 10px;
      }
      h1,h2,h3 {
        line-height: 1.2;
      }
      main {
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        
        /
        <a href="/">kejadlen.dev</a> / <a href="/blog/">blog</a> / 2008 / 11 / 27
        
          /
          <a href="/blog/2008/11/27/sharing-from-whs-to-ubuntu.html">sharing-from-whs-to-ubuntu</a>
        
      </nav>
    </header>
    <main>
      <article>
        <h2>Sharing from WHS to Ubuntu</h2>
        <p>It took me a little while to put this all together, but here’s my configuration. Sharing from an HP MediaSmart to Ubuntu 8.10. I’m not sure if smbfs is required, since I’m using cifs.</p>

<div class="language-console highlighter-coderay"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
</pre></td>
  <td class="code"><pre>$ apt-get install smbfs winbind
</pre></td>
</tr></table>
</div>

<h3 id="etcfstab">/etc/fstab</h3>

<div class="language-conf highlighter-coderay"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
</pre></td>
  <td class="code"><pre>//foo/bar /mnt/foo cifs rw,uid=1000,gid=1000,auto,file_mode=0644,dir_mode=0755,credentials=/root/.smb_credentials 0 0
</pre></td>
</tr></table>
</div>

<h3 id="rootsmbcredentials">/root/.smb_credentials</h3>

<div class="language-conf highlighter-coderay"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
</pre></td>
  <td class="code"><pre>username=foo
password=bar
</pre></td>
</tr></table>
</div>

<p>uid and gid set the permissions on the share to my user account. file_mode and dir_mode are there to make the permissions on the files and directories correct.</p>

<p>Don’t forget to make sure <code>.smb_credentials</code> are properly <code>chown</code>&lsquo;ed to root and <code>chmod</code>&lsquo;ed to 600 so that no one else can read them!</p>

      </article>
    </main>
  </body>
</html>
